---
description: |
  This command is used to send additional 3rd party logs generated during
  your workflow job to Coralogix.
parameters:
  file:
    type: string
    description: Absolute or relative path to the file for sending.
  newline_pattern:
    type: string
    description: Regular expression to split records in the file.
    default: '\n|\r|\r\n'
  endpoint:
    type: string
    description: Coralogix API endpoint.
    default: api.coralogix.com
  private_key:
    type: env_var_name
    description: Private key provided by Coralogix.
    default: CORALOGIX_PRIVATE_KEY
  application:
    type: string
    description: Your application name.
    default: CircleCI
  subsystem:
    type: string
    description: Your subsystem name.
    default: workflow
  hostname:
    type: string
    description: Machine hostname.
    default: "$(hostname)"
  category:
    type: string
    description: The log's category.
    default: artifact
  class:
    type: string
    description: The log's class name.
    default: ''
  method:
    type: string
    description: The log's method name.
    default: ''
  thread:
    type: string
    description: Thread ID reported with the log.
    default: "${CIRCLE_WORKFLOW_ID}"
steps:
  - jq/install
  - run:
      name: Send to Coralogix
      when: always
      command: <<include(scripts/send.sh)>>
